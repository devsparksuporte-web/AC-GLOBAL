import{n as e}from"./index-C9yBzEdM.js";const t={async listarPlanos(t){let{data:n,error:r}=await e.from(`planos_manutencao`).select(`*, cliente:clientes(nome)`).eq(`empresa_id`,t).order(`titulo`);if(r)throw r;return n||[]},async criarPlano(t){let{data:{user:n}}=await e.auth.getUser();if(!n)throw Error(`Usuário não autenticado`);let{data:r,error:i}=await e.from(`planos_manutencao`).insert({...t,ativo:!0,criado_por:n.id}).select().single();if(i)throw i;return r},async atualizarPlano(t,n){let{data:r,error:i}=await e.from(`planos_manutencao`).update(n).eq(`id`,t).select().single();if(i)throw i;return r},async excluirPlano(t){let{error:n}=await e.from(`planos_manutencao`).delete().eq(`id`,t);if(n)throw n}};export{t};